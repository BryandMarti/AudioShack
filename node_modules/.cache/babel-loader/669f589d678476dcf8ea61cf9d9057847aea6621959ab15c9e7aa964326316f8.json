{"ast":null,"code":"import{useEffect,useState}from'react';import'../scripts_css/across.css';import BouncyBalls from'../scripts_css/bouncyBalls';import'../scripts_css/audioslave.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Products(){const[products,setProducts]=useState([]);const[selectedProduct,setSelectedProduct]=useState(null);const[sortOrder,setSortOrder]=useState('');const[productType,setProductType]=useState('');useEffect(()=>{fetch('/api/products').then(res=>res.json()).then(data=>{if(Array.isArray(data)){setProducts(data);}else{console.error(\"Data fetched is not an array:\",data);setProducts([]);}}).catch(err=>{console.error(err);setProducts([]);});},[]);const handleProductClick=product=>{setSelectedProduct(product);};const handleClosePopup=()=>{setSelectedProduct(null);};const handleSortChange=e=>{setSortOrder(e.target.value);};const handleTypeChange=e=>{setProductType(e.target.value);};function renderProducts(products){let filteredProducts=[...products];if(sortOrder){filteredProducts.sort((a,b)=>sortOrder==='lowToHigh'?a.Price-b.Price:b.Price-a.Price);}if(productType){filteredProducts=filteredProducts.filter(product=>product.TypeOf.split(', ').includes(productType));}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(BouncyBalls,{}),/*#__PURE__*/_jsx(\"div\",{className:\"products-grid\",children:filteredProducts.map((product,i)=>/*#__PURE__*/_jsxs(\"div\",{className:\"Card\",onClick:()=>handleProductClick(product),children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:product.ImgPath,alt:product.Name})}),/*#__PURE__*/_jsx(\"h2\",{children:product.Name}),/*#__PURE__*/_jsxs(\"p\",{children:[\"$\",product.Price]})]},i))})]});}return/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"ProductsFilter\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Products\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Sort by Price:\"}),/*#__PURE__*/_jsxs(\"select\",{value:sortOrder,onChange:handleSortChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select\"}),/*#__PURE__*/_jsx(\"option\",{value:\"lowToHigh\",children:\"Lowest to Highest\"}),/*#__PURE__*/_jsx(\"option\",{value:\"highToLow\",children:\"Highest to Lowest\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Filter by Type:\"}),/*#__PURE__*/_jsxs(\"select\",{value:productType,onChange:handleTypeChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Speaker\",children:\"Speaker\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Wired\",children:\"Wired\"}),/*#__PURE__*/_jsx(\"option\",{value:\"WaterProof\",children:\"WaterProof\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Surround\",children:\"Surround Sound\"}),/*#__PURE__*/_jsx(\"option\",{value:\"NoiseCancel\",children:\"Noise Canceling\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Gaming\",children:\"Gaming\"}),/*#__PURE__*/_jsx(\"option\",{value:\"HeadPhones\",children:\"Headphones\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Special\",children:\"Special\"})]})]})]}),renderProducts(products),selectedProduct&&/*#__PURE__*/_jsx(\"div\",{className:\"popup\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"Content\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"close-button\",onClick:handleClosePopup,children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"h2\",{children:selectedProduct.Name}),/*#__PURE__*/_jsx(\"img\",{src:selectedProduct.ImgPath,alt:selectedProduct.Name}),/*#__PURE__*/_jsxs(\"p\",{children:[\"$\",selectedProduct.Price]}),/*#__PURE__*/_jsx(\"p\",{children:selectedProduct.Description})]})})]});}export default Products;","map":{"version":3,"names":["useEffect","useState","BouncyBalls","jsx","_jsx","jsxs","_jsxs","Products","products","setProducts","selectedProduct","setSelectedProduct","sortOrder","setSortOrder","productType","setProductType","fetch","then","res","json","data","Array","isArray","console","error","catch","err","handleProductClick","product","handleClosePopup","handleSortChange","e","target","value","handleTypeChange","renderProducts","filteredProducts","sort","a","b","Price","filter","TypeOf","split","includes","children","className","map","i","onClick","src","ImgPath","alt","Name","onChange","Description"],"sources":["/Users/Bryandmr/Desktop/React/audioslave/src/jsxClient/Products.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport '../scripts_css/across.css';\nimport BouncyBalls from '../scripts_css/bouncyBalls';\nimport '../scripts_css/audioslave.css';\n\nfunction Products() {\n  const [products, setProducts] = useState([]);\n  const [selectedProduct, setSelectedProduct] = useState(null);\n  const [sortOrder, setSortOrder] = useState('');\n  const [productType, setProductType] = useState('');\n\n  useEffect(() => {\n    fetch('/api/products')\n      .then(res => res.json())\n      .then(data => {\n        if (Array.isArray(data)) {\n          setProducts(data);\n        } else {\n          console.error(\"Data fetched is not an array:\", data);\n          setProducts([]);\n        }\n      })\n      .catch(err => {\n        console.error(err);\n        setProducts([]);\n      });\n  }, []);\n\n  const handleProductClick = (product) => {\n    setSelectedProduct(product);\n  };\n\n  const handleClosePopup = () => {\n    setSelectedProduct(null);\n  };\n\n  const handleSortChange = (e) => {\n    setSortOrder(e.target.value);\n  };\n\n  const handleTypeChange = (e) => {\n    setProductType(e.target.value);\n  };\n\n  function renderProducts(products) {\n    let filteredProducts = [...products];\n\n    if (sortOrder) {\n      filteredProducts.sort((a, b) => sortOrder === 'lowToHigh' ? a.Price - b.Price : b.Price - a.Price);\n    }\n\n    if (productType) {\n      filteredProducts = filteredProducts.filter(product => product.TypeOf.split(', ').includes(productType));\n    }\n\n    return (\n      <div>\n        <BouncyBalls />\n        <div className=\"products-grid\">\n          {filteredProducts.map((product, i) => (\n            <div key={i} className=\"Card\" onClick={() => handleProductClick(product)}>\n              <div>\n                <img src={product.ImgPath} alt={product.Name} />\n              </div>\n              <h2>{product.Name}</h2>\n              <p>${product.Price}</p>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <main>\n      <div className='ProductsFilter'>\n        <h1>Products</h1>\n        <div>\n          <label>Sort by Price:</label>\n          <select value={sortOrder} onChange={handleSortChange}>\n            <option value=\"\">Select</option>\n            <option value=\"lowToHigh\">Lowest to Highest</option>\n            <option value=\"highToLow\">Highest to Lowest</option>\n          </select>\n        </div>\n        <div>\n          <label>Filter by Type:</label>\n          <select value={productType} onChange={handleTypeChange}>\n            <option value=\"\">All</option>\n            <option value=\"Speaker\">Speaker</option>\n            <option value=\"Wired\">Wired</option>\n            <option value=\"WaterProof\">WaterProof</option>\n            <option value=\"Surround\">Surround Sound</option>\n            <option value=\"NoiseCancel\">Noise Canceling</option>\n            <option value=\"Gaming\">Gaming</option>\n            <option value=\"HeadPhones\">Headphones</option>\n            <option value=\"Special\">Special</option>\n          </select>\n        </div>\n      </div>\n      {renderProducts(products)}\n\n      {selectedProduct && (\n        <div className=\"popup\">\n          <div className=\"Content\">\n            <span className=\"close-button\" onClick={handleClosePopup}>&times;</span>\n            <h2>{selectedProduct.Name}</h2>\n            <img src={selectedProduct.ImgPath} alt={selectedProduct.Name} />\n            <p>${selectedProduct.Price}</p>\n            <p>{selectedProduct.Description}</p>\n          </div>\n        </div>\n      )}\n    </main>\n  );\n}\n\nexport default Products;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}